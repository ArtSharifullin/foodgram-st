global:
  secrets:
    db: db-secrets
    rabbitmq: rabbitmq-secrets
    vault: vault-approle
    externalApis: external-apis
  config:
    db: db-config
    rabbitmq: rabbitmq-config
  service:
    backend: backend-service
    frontend: frontend-service
    flower: flower-service
  images:
    api:
      name: tkshabalin/foodgram-back
      tag: latest
      pullPolicy: Always

sharedSecrets:
  vault:
    name: vault-approle
    data:
      VAULT_ADDR: http://vault.vault.svc.cluster.local:8200
      VAULT_KV_MOUNT: secrets
      VAULT_ROLE_ID: ""
      VAULT_SECRET_ID: ""
  externalApis:
    name: external-apis
    data:
      NEWSAPI_API_KEY: ""
      NEWSDATA_API_KEY: ""

baseHost:
ingress:
  name: foodgram-ingress
  namespace: foodgram
  host: foodgram.local
  annotations:
    proxyBodySize: 10m
    proxyReadTimeout: 3600
    proxySendTimeout: 3600
    backendProtocol: HTTP
    corsAllowOrigin: "*"
    enableCors: true
  spec:
    ingressName: nginx
    rules:
      host:
        name: foodgram.local
        paths:
          slashService:
            name: nginx-service
            portNumber: 80
          apiAdminService:
            name: backend-service
            portNumber: 8000

service:
  port: 8000

flower:
  namespace: foodgram
  ingress:
    host: foodgram.local
